<!-- claim-card.component.html -->
<div
  (click)="onCardClick()"
  class="bg-white rounded-2xl p-6 border border-slate-100 shadow-sm
         transition-all hover:shadow-md hover:shadow-blue-900/5 hover:border-blue-200
         group cursor-pointer select-none">

  <div class="flex flex-col gap-4">

    <!-- ── Header: icon + code + badges ──────────────────────────────────── -->
    <div class="flex items-start gap-4">

      <!-- Vehicle-type icon -->
      <div class="vehicle-icon w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center
                  text-[#1E40AF] group-hover:bg-blue-600 group-hover:text-white
                  transition-all duration-300 flex-shrink-0">

        @switch (vehicleType) {

          @case ('motorcycle') {
            <!-- Moto -->
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <circle cx="5"  cy="17" r="2" stroke-width="1.8"/>
              <circle cx="19" cy="17" r="2" stroke-width="1.8"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                    d="M5 17l1.5-5h7l3-4h2l1.5 4-3 1"/>
            </svg>
          }

          @case ('truck') {
            <!-- Camion -->
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <rect x="1" y="3" width="13" height="13" rx="1" stroke-width="1.8"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                    d="M14 7h4l3 3v6h-7V7z"/>
              <circle cx="6"  cy="19" r="2" stroke-width="1.8"/>
              <circle cx="18" cy="19" r="2" stroke-width="1.8"/>
            </svg>
          }

          @case ('van') {
            <!-- Furgone -->
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                    d="M3 13l1-7h14l2 7M3 13v4h1m15-4v4h1m-17 0h16"/>
              <circle cx="6"  cy="17" r="1.5" stroke-width="1.8"/>
              <circle cx="18" cy="17" r="1.5" stroke-width="1.8"/>
            </svg>
          }

          @case ('suv') {
            <!-- SUV -->
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                    d="M3 17V9l3-4h12l3 4v8H3zm4-8h10"/>
              <circle cx="7"  cy="17" r="2" stroke-width="1.8"/>
              <circle cx="17" cy="17" r="2" stroke-width="1.8"/>
            </svg>
          }

          @default {
            <!-- Auto (default) -->
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                    d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                    d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1
                       m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586
                       a1 1 0 01.707.293l3.414 3.414
                       a1 1 0 01.293.707V16a1 1 0 01-1 1h-1
                       m-6-1a1 1 0 001 1h1M5 17h5"/>
            </svg>
          }
        }
      </div>

      <!-- Code + status badge -->
      <div class="flex-1 min-w-0">
        <div class="flex flex-wrap items-center gap-2 mb-1">
          <span class="text-sm font-black tracking-tighter text-slate-900">
            {{ claim.code }}
          </span>
          <span [class]="'inline-flex items-center px-2 py-0.5 rounded
                          text-[0.58rem] font-black uppercase tracking-[0.06em] border '
                          + statusClass">
            {{ statusLabel }}
          </span>
        </div>
        <p class="text-[0.7rem] font-bold text-slate-400 uppercase tracking-wider truncate">
          {{ claim.type }}
        </p>
      </div>

      <!-- Priority badge -->
      <span [class]="'inline-flex items-center px-2 py-0.5 rounded
                      text-[0.58rem] font-black uppercase flex-shrink-0 '
                      + priorityClass">
        {{ claim.priority }}
      </span>
    </div>

    <!-- ── Details ────────────────────────────────────────────────────────── -->
    <div class="space-y-2 text-xs">
      <div class="flex items-center gap-2 text-slate-400">
        <svg class="w-3.5 h-3.5 flex-shrink-0 text-slate-300" fill="none"
             stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243
                   a8 8 0 1111.314 0z"/>
        </svg>
        <span class="font-semibold text-slate-600 truncate">{{ claim.location }}</span>
      </div>
      <div class="flex items-center gap-2 text-slate-400">
        <svg class="w-3.5 h-3.5 flex-shrink-0 text-slate-300" fill="none"
             stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span class="font-semibold text-slate-600">
          {{ claim.time }} · {{ claim.date }}
        </span>
      </div>
    </div>

    <!-- ── Chips ──────────────────────────────────────────────────────────── -->
    <div class="flex flex-wrap items-center gap-2 pt-3 border-t border-slate-100">

      <!-- Vehicle plate chip -->
      <span class="inline-flex items-center gap-1 px-2.5 py-0.5 bg-slate-50 border
                   border-slate-200 rounded-md text-[0.7rem] font-semibold text-slate-500
                   truncate max-w-[140px]">
        <svg class="w-3 h-3 flex-shrink-0" fill="none" stroke="currentColor"
             viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/>
        </svg>
        {{ claim.vehicle }}
      </span>

      <!-- Insurance chip -->
      <span class="inline-flex items-center gap-1 px-2.5 py-0.5 bg-blue-50 border
                   border-blue-100 rounded-md text-[0.7rem] font-semibold text-blue-600">
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5
                   m-9 0H3m2 0h5"/>
        </svg>
        {{ claim.insuranceCompany }}
      </span>

      <!-- Amount chip -->
      @if (claim.amount) {
        <span class="inline-flex items-center gap-1 px-2.5 py-0.5 bg-emerald-50 border
                     border-emerald-100 rounded-md text-[0.7rem] font-semibold
                     text-emerald-600 ml-auto">
          € {{ claim.amount | number }}
        </span>
      }
    </div>

  </div>
</div>